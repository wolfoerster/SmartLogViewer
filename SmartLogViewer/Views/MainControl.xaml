<UserControl x:Class="SmartLogViewer.Views.MainControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:viewmos="clr-namespace:SmartLogViewer.ViewModels"
             mc:Ignorable="d" 
        d:DataContext="{d:DesignInstance Type=viewmos:MainViewModel}"
        TextElement.FontSize="12">
  <Grid Margin="4">
    <Grid.RowDefinitions>
      <RowDefinition Height="Auto"/>
      <RowDefinition Height="Auto"/>
    </Grid.RowDefinitions>
    <Grid.ColumnDefinitions>
      <ColumnDefinition Width="Auto"/>
      <ColumnDefinition Width="Auto"/>
    </Grid.ColumnDefinitions>
    <StackPanel Orientation="Horizontal" Grid.Row="0" Grid.Column="0" Grid.ColumnSpan="33" Margin="4">
      <Button Content="Open File" Click="OnOpenClicked"/>
      <ComboBox Width="120" Margin="12,0,0,0" ItemsSource="{Binding ReadModes}" SelectedIndex="{Binding SelectedReadMode}" ToolTip="Select amount to read based on time stamp"/>
      <ComboBox Width="120" Margin="12,0,0,0" ItemsSource="{Binding LogLevels}" SelectedIndex="{Binding SelectedLogLevel}" ToolTip="Select amount to read based on log level"/>
      <ComboBox Width="120" Margin="12,0,0,0" ItemsSource="{Binding ThemeModes}" SelectedIndex="{Binding SelectedThemeMode}" ToolTip="Select overall appearance"/>
    </StackPanel>
    <GroupBox Grid.Row="1" Grid.Column="0" Header="Workspaces" Padding="8,0" MinWidth="120" MinHeight="300" Margin="4">
      <DataGrid Padding="4"
        ItemsSource="{Binding WorkspaceCollection}" 
        SelectedIndex="{Binding SelectedWorkspaceIndex}"
        AutoGenerateColumns="False"
        HeadersVisibility="None"
        CanUserAddRows="True"
        Margin="0,8">
        <DataGrid.Columns>
          <DataGridTextColumn Binding="{Binding Name}"/>
          <DataGridTemplateColumn>
            <DataGridTemplateColumn.CellTemplate>
              <DataTemplate>
                <Grid>
                  <Button Content="X" Width="14" Height="14" Click="OnRemoveWorkspace" HorizontalAlignment="Center"/>
                </Grid>
              </DataTemplate>
            </DataGridTemplateColumn.CellTemplate>
          </DataGridTemplateColumn>
        </DataGrid.Columns>
      </DataGrid>
    </GroupBox>
    <GroupBox Grid.Row="1" Grid.Column="1" Header="Files" Padding="8,0" MinWidth="120" MinHeight="300" Margin="4">
      <DataGrid Padding="4"
        ItemsSource="{Binding SelectedWorkspace.FileCollection}" 
        SelectedIndex="{Binding SelectedWorkspace.SelectedFileIndex}"
        AutoGenerateColumns="False"
        HeadersVisibility="None"
        CanUserAddRows="False"
        Margin="0,8">
        <DataGrid.Columns>
          <DataGridTextColumn Binding="{Binding}" IsReadOnly="True"/>
          <DataGridTemplateColumn>
            <DataGridTemplateColumn.CellTemplate>
              <DataTemplate>
                <Grid>
                  <Button Content="X" Width="14" Height="14" Click="OnRemoveFile" HorizontalAlignment="Center"/>
                </Grid>
              </DataTemplate>
            </DataGridTemplateColumn.CellTemplate>
          </DataGridTemplateColumn>
        </DataGrid.Columns>
      </DataGrid>
    </GroupBox>
  </Grid>
</UserControl>
